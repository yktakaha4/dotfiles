# docs

後から参照しそうな情報をメモ

## 詳解 システム・パフォーマンス

https://www.oreilly.co.jp/books/9784814400072/

### 表2-2 さまざまなシステムレイテンシのタイムスケール

| オペレーション | レイテンシ | 対比 |
| -- | -- | -- |
| 1 CPUサイクル | 0.3n秒 | 1秒 |
| レベル1キャッシュアクセス | 0.9n秒 | 3秒 |
| レベル2キャッシュアクセス | 3n秒 | 10秒 |
| レベル3キャッシュアクセス | 10n秒 | 33秒 |
| メインメモリアクセス（DRAM、CPUから） | 100n秒 | 6分 |
| SSD I/O（フラッシュメモリ） | 10～100μ秒 | 9～90時間 |
| 回転ディスクI/O | 1～10m秒 | 1～12か月 |
| インターネット: サンフランシスコ-ニューヨーク | 40m秒 | 4年 |
| インターネット: サンフランシスコ-イギリス | 81m秒 | 8年 |
| 軽いハードウェア仮想化システムのブート | 100m秒 | 11年 |
| インターネット: サンフランシスコ-オーストラリア | 183m秒 | 19年 |
| OS仮想化システムのブート | 1秒未満 | 105年 |
| タイマーベースのTCPパケット再送 | 1～3秒 | 105～317年 |
| SCSIコマンドタイムアウト | 30秒 | 3,000年 |
| ハードウェア（HW）仮想化システムのブート | 40秒 | 4,000年 |
| 物理システムのリブート | 5分 | 32,000年 |

### 表5-1 ビッグオー記法の例

元々の表に対して `n=100の場合` と `n=1000の場合` を付記

| 記法 | 例 | n=100の場合 | n=1000の場合 |
| -- | -- | -- | -- |
| O(1) | 2値テスト | 1 | 1 |
| O(log n) | ソート済み配列の二分探索 | 6.64 | 9.97 |
| O(n) | 連結リストの線形サーチ | 100 | 1000 |
| O(n log n) | クイックソート（平均的な条件で） | 664 | 9965 |
| O(n^2) | バブルソート（平均的な条件で） | 10,000 | 1,000,000 |
| O(2^n) | 数値の因数分解、指数的な成長 | 1.27e+30 | 1.07e+301 |
| O(n!) | 力任せに解く巡回セールスマン問題 | 9.33e+157 | 4.02e+2567 |

### 表9-1 ディスクI/Oレイテンシのタイムスケールのイメージ

| イベント | レイテンシ | 対比 |
| -- | -- | -- |
| オンディスクキャッシュヒット | <100μ秒†1 | 1秒 |
| フラッシュメモリからの読み出し | ～100から1,000μ秒（小規模なI/Oから大規模なI/Oまで） | 1～10秒 |
| 回転磁気ディスクからのシーケンシャル読み出し | ～1m秒 | 10秒 |
| 回転磁気ディスクからのランダム読み出し（7,200rpm） | ～8m秒 | 1.3分 |
| 回転磁気ディスクからのランダム読み出し（遅く、キューイングされる場合） | >10m秒 | 1.7分 |
| 回転磁気ディスクからのランダム読み出し（大量の要求がキューで待機している） | >100m秒 | 17分 |
| 最悪の条件の仮想ディスクI/O（ハードウェアコントローラ、RAID 5、キューイング、ランダムI/O） | >1,000m秒 | 2.8時間 |

> [†1] NVMe（Non-Volatile Memory express）ストレージデバイスでは10μ秒から20μ秒。この種のドライブは、一般にPCIeバスカードで接続されたフラッシュメモリである。

### 表10-1 pingレイテンシの例

| 送信 | 受信 | 媒体 | レイテンシ | 対比 |
| -- | -- | -- | -- | -- |
| localhost | localhost | カーネル | 0.05m秒 | 1秒 |
| ホスト | ホスト（同じサブネット） | 10GbE | 0.2m秒 | 4秒 |
| ホスト | ホスト（同じサブネット） | 1GbE | 0.6m秒 | 12秒 |
| ホスト | ホスト（同じサブネット） | WiFi | 3m秒 | 1分 |
| サンフランシスコ | ニューヨーク | インターネット | 40m秒 | 13分 |
| サンフランシスコ | イギリス | インターネット | 81m秒 | 27分 |
| サンフランシスコ | オーストラリア | インターネット | 183m秒 | 1時間 |

## SLO サービスレベル目標

https://www.oreilly.co.jp/books/9784814400348/

### 表4-1 9で構成されるSLOの目標値の時間への換算

| 目標値 | 1日あたり | 1ヶ月あたり | 1年あたり |
| -- | -- | -- | -- |
| 99.999% | 0.9秒 | 26.3秒 | 5分15.6秒 |
| 99.99% | 8.6秒 | 4分23秒 | 52分35.7秒 |
| 99.9% | 1分26.4秒 | 43分49.7秒 | 8時間45分57秒 |
| 99% | 14分24秒 | 7時間18分17.5秒 | 3日15時間39分 |

### 表4-2 9以外の数字も含まれるSLOの目標値の時間への換算

| 目標値 | 1日あたり | 1ヶ月あたり | 1年あたり |
| -- | -- | -- | -- |
| 99.95% | 42.2秒 | 5分2.4秒 | 4時間22分58.5秒 |
| 99.7% | 4分19.2秒 | 30分14.4秒 | 1日2時間17分50.9秒 |
| 99.3% | 10分4.8秒 | 5時間6分48.2秒 | 2日13時間21分38.7秒 |
| 98% | 28分48秒 | 14時間36分34.9秒 | 7日7時間18分59秒 |


### 表8-1 さまざまな時間ウィンドウにおけるSLOの目標値の詳細

> 表8-1は、時間指向のアプローチを採用した場合のトレードオフを示したものです。この表が示しているのは、それぞれのSLOの値と計測されたSLOウィンドウごとに、SLOに違反したと判定されるまでに許容されるサービス障害の時間の長さの合計（秒単位）です

> 表の中でセルの背景をグレー(*1)にしてあるのは、秒の合計数が5分より小さい場合です。この値は、これより小さければ人間が応答するのには無理があることを示す、恣意的ですが蓋然性のある閾値です（これより大きくても無理かもしれませんが、これより小さい場合には間違いなく無理です）。セルの背景を薄いグレー(*2)にしてあるのは、それらの値が5分より大きな範囲に含まれますが、目標値およびウィンドウによって許容されるエラーバジェットの合計より小さい場合です。

| <br>略称 | <br>公式の定義 | 秒<br>1 | 分<br>60 | 時<br>3600 | 日<br>86400 | 週<br>604800 | 30日<br>2592000 | 90日<br>7776000 | 年<br>22896000 |
| -- | -- | -- | -- | -- | -- | -- | -- | -- | -- |
| 6個の9 | 99.9999 | 0.00 (*1) | 0.00 (*1) | 0.00 (*1) | 0.09 (*1) | 0.60 (*1) | 2.59 (*1) | 7.78 (*1) | 22.90 (*1) |
| 5個半の9 | 99.9995 | 0.00 (*1) | 0.00 (*1) | 0.02 (*1) | 0.43 (*1) | 3.02 (*1) | 12.96 (*1) | 38.88 (*1) | 114.48 (*1) |
| 5個の9 | 99.999 | 0.00 (*1) | 0.00 (*1) | 0.04 (*1) | 0.86 (*1) | 6.05 (*1) | 25.92 (*1) | 77.76 (*1) | 228.96 (*1) |
| 4個半の9 | 99.995 | 0.00 (*1) | 0.00 (*1) | 0.18 (*1) | 4.32 (*1) | 30.24 (*1) | 129.60 (*1) | 388.80 (*2) | 1144.80 (*2) |
| 4個の9 | 99.99 | 0.00 (*1) | 0.01 (*1) | 0.36 (*1) | 8.64 (*1) | 60.48 (*1) | 259.20 (*1) | 777.60 (*2) | 2289.60 (*2) |
| 3個半の9 | 99.95 | 0.00 (*1) | 0.03 (*1) | 1.80 (*1) | 43.20 (*1) | 302.40 (*2) | 1296 (*2) | 3888 | 11448 |
| 3個の9 | 99.9 | 0.00 (*1) | 0.06 (*1) | 3.60 (*1) | 86.40 (*1) | 604.80 (*2) | 2592 (*2) | 7776 | 22896 |
| 2個半の9 | 99.5 | 0.01 (*1) | 0.30 (*1) | 18.00 (*1) | 432.00 (*2) | 3024 | 12960 | 38880 | 114480 |
| 2個の9 | 99 | 0.01 (*1) | 0.60 (*1) | 36.00 (*1) | 864.00 (*2) | 6048 | 25920 | 77760 | 228960 |
| 1個半の9 | 95 | 0.05 (*1) | 3.00 (*1) | 180.00 (*1) | 4320 | 30240 | 129600 | 388800 | 1144800 |
| 1個の9 | 90 | 0.10 (*1) | 6.00 (*1) | 360.00 | 8640 | 60480 | 259200 | 777600 | 2289600 |

### 表8-2 エラーバジェットの消費許容可能なパーセンテージ

> ヘッダーの行では許容可能なエラーバジェットの消費の割合を指定し、左側の列ではウィンドウサイズを指定しています。したがって、たとえば、エラーバジェットの10%を1時間で消費する場合、つまり、完全に消費し尽くすまでに10時間が残されている場合は、0.42日間（まさしく同じ10時間）持続できます。もう1つ例を挙げると、2%の消費と24時間のウィンドウサイズを選択した場合には、エラーバジェットを消費し尽くすまでに50日までの期間が許容されます。したがって、表からわかることとして、30日間持続するエラーバジェットを守るために後者の例のアラートは使用できません。なぜなら、エラーバジェットが完全に消費し尽くされる前に更新されるからです。

| ウィンドウサイズ | 時間 | 10% | 5% | 2% | 1% |
| -- | -- | -- | -- | -- | -- |
| | 1 | 0.42(日間) | 0.83 | 2.08 | 4.17 |
| | 2 | 0.83 | 1.67 | 4.17 | 8.33 |
| | 4 | 1.67 | 3.33 | 8.33 | 16.67 |
| | 8 | 3.33 | 6.67 | 16.67 | 33.33 |
| | 12 | 5 | 10 | 25 | 50 |
| | 24 | 10 | 20 | 50 | 100 |
| | 48 | 20 | 40 | 100 | 200 |
| 1週間 | 168 | 70 | 140 | 350 | 700 |
| 2週間 | 336 | 140 | 280 | 700 | 1400 |
| 30日間の月 | 720 | 300 | 600 | 1500 | 3000 |
| 90日間の四半期 | 2160 | 900 | 1800 | 4500 | 9000 |

## プロフェッショナルTLS&PKI改題第2版

https://www.lambdanote.com/products/tls

### 表1.2 セキュリティの強度と等価なビット安全性

> 表1.2 は、暗号アルゴリズムとその鍵長の持つ強度に関する2012年の報告に基づいたデー  タです†14。 暗号アルゴリズムとその鍵長をペアとしたときの相互の対応関係だけでなく、攻  撃者の能力と時間に応じた強度も定義されています†15。

| レベル | 保護 | 共通鍵暗号化方式 | 公開鍵暗号化方式 | DH | 楕円曲線暗号 | ハッシュ値 |
| -- | -- | -- | -- | -- | -- | -- |
| 1 | 人手による実時間の攻撃 | 32 | - | - | - | - |
| 2 | 小規模の組織によるごく短時間の攻撃に対する保護 | 64 | 816 | 816 | 128 | 128 |
| 3 | 小規模の組織による短時間の攻撃に対する保護 | 72 | 1,008 | 1,008 | 144 | 144 |
| 4 | 組織的なごく短時間の攻撃に対する保護 | 80 | 1,248 | 1,248 | 160 | 160 |
| 5 | 短期間の攻撃に対する保護（10年） | 96 | 1,776 | 1,776 | 192 | 192 |
| 6 | 中期間の攻撃に対する保護（20年） | 112 | 2,432 | 2,432 | 224 | 224 |
| 7 | 長期間の攻撃に対する保護（30年） | 128 | 3,248 | 3,248 | 256 | 256 |
| 8 | 長期間の攻撃に対する保護と量子コンピュータに対する防御 | 256 | 15,424 | 15,424 | 512 | 512 |

### 表1.3 一般的な鍵帳での暗号強度の対応関係

> 先の表は有益な情報には違いありませんが、値が一般的な鍵長に対応していないので使い  づらいかもしれません。ビット安全性を比較するには、 NISTが提示している等価安全性（表  1.3） のほうが便利でしょう †17  。

| 共通鍵暗号化方式 | RSA/DSA/DH | 楕円曲線暗号 | ハッシュ関数 |
| -- | -- | -- | -- |
| 80 | 1,024 | 160 | 160 |
| 112 | 2,048 | 224 | 224 |
| 128 | 3,072 | 256 | 256 |
| 256 | 15,360 | 512 | 512 |
